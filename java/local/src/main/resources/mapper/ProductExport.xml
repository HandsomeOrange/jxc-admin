<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.toesbieya.jxc.mapper.ProductExportMapper">
    <resultMap id="BaseResultMap" type="cn.toesbieya.jxc.model.entity.ProductExportRecord">
        <result column="id" property="id"/>
        <result column="link" property="linkUrl"/>
        <result column="from_site" property="fromSite"/>
        <result column="export_time" property="exportTime"/>
        <result column="update_time" property="updateTime"/>
        <result column="export_file" property="exportFile"/>
        <result column="status" property="status"/>
        <result column="product_number" property="productNumber"/>
        <result column="file_content" property="fileContent"/>
        <result column="visible" property="visible"/>
        <result column="duration" property="duration"/>
        <result column="product_export" property="productExport"/>
    </resultMap>
    <sql id="Base_Column_List">
        id,
        link,
        from_site,
        export_time,
        export_file,
        `status`,
        product_number,
        update_time,
        file_content,
        visible,
        duration,product_export
    </sql>
    <!--    <resultMap id="BaseResultMap" type="cn.toesbieya.jxc.model.entity.ProductExportRecord">-->
    <!--        <result column="id" property="id"/>-->
    <!--        <result column="link" property="linkUrl"/>-->
    <!--        <result column="from_site" property="fromSite"/>-->
    <!--        <result column="export_time" property="exportTime"/>-->
    <!--        <result column="export_file" property="exportFile"/>-->
    <!--        <result column="status" property="status"/>-->
    <!--        <result column="product_number" property="productNumber"/>-->
    <!--    </resultMap>-->
    <select id="queryAll" resultType="cn.toesbieya.jxc.model.entity.ProductExportRecord">
        select id,
               link           linkUrl,
               from_site      fromSite,
               export_time    exportTime,
               export_file    exportFile,
               status         status,
               product_number productNumber,
               update_time    updateTime,
               file_content   fileContent,
               visible        visible,
               duration,
               product_export productExport
        from export_history ${ew.customSqlSegment}
    </select>


    <parameterMap type="cn.toesbieya.jxc.model.entity.ProductExportRecord" id="recordColumnMap">
        <parameter property="id"/>
        <parameter property="linkUrl"/>
        <parameter property="fromSite"/>
        <parameter property="exportTime"/>
        <parameter property="exportFile"/>
        <parameter property="status"/>
        <parameter property="productNumber"/>
    </parameterMap>

    <insert id="insertRecord" parameterMap="recordColumnMap">
        INSERT INTO export_history (id, link, from_site, export_time, status, product_number, duration)
        values (#{id}, #{linkUrl}, #{fromSite}, #{exportTime}, #{status}, #{productNumber}, 0)
    </insert>

    <!--auto generated by MybatisCodeHelper on 2021-03-31-->
    <update id="updateStatusAndProductNumberById">
        update export_history
        set `status`=#{updatedStatus},
            product_number=#{updatedProductNumber}
        where id = #{id}
    </update>

    <!--auto generated by MybatisCodeHelper on 2021-03-31-->
    <update id="updateStatusAndProductNumberAndExportFileById">
        update export_history
        set `status`=#{updatedStatus},
            product_number=#{updatedProductNumber},
            export_file=#{updatedExportFile}
        where id = #{id}
    </update>

    <!--auto generated by MybatisCodeHelper on 2021-04-01-->
    <update id="updateStatusAndProductNumberAndExportFileAndFileContentAndUpdateTimeById">
        update export_history
        set `status`=#{updatedStatus},
            product_number=#{updatedProductNumber},
            export_file=#{updatedExportFile},
            file_content=#{updatedFileContent},
            update_time=#{updatedUpdateTime}
        where id = #{id}
    </update>

    <!--auto generated by MybatisCodeHelper on 2021-04-01-->
    <update id="updateVisibleById">
        update export_history
        set visible=#{updatedVisible}
        where id = #{id}
    </update>

    <!--auto generated by MybatisCodeHelper on 2021-04-01-->
    <select id="selectById" resultMap="BaseResultMap">
        select
        <include refid="Base_Column_List"/>
        from export_history
        where id = #{id}
    </select>

    <!--auto generated by MybatisCodeHelper on 2021-04-01-->
    <update id="updateById">
        update export_history
        <set>
            <if test="updated.linkUrl != null">
                link = #{updated.linkUrl},
            </if>
            <if test="updated.fromSite != null">
                from_site = #{updated.fromSite},
            </if>
            <if test="updated.exportTime != null">
                export_time = #{updated.exportTime},
            </if>
            <if test="updated.updateTime != null">
                update_time = #{updated.updateTime},
            </if>
            <if test="updated.exportFile != null">
                export_file = #{updated.exportFile},
            </if>
            <if test="updated.status != null">
                status = #{updated.status},
            </if>
            <if test="updated.productNumber != null">
                product_number = #{updated.productNumber},
            </if>
            <if test="updated.fileContent != null">
                file_content = #{updated.fileContent},
            </if>
            <if test="updated.visible != null">
                visible = #{updated.visible},
            </if>
            <if test="updated.duration != null">
                duration = #{updated.duration},
            </if>
        </set>
        where id = #{id}
    </update>

<!--auto generated by MybatisCodeHelper on 2021-04-01-->
    <insert id="insertSelective">
        INSERT INTO export_history
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="id != null">
                id,
            </if>
            <if test="linkUrl != null">
                link,
            </if>
            <if test="fromSite != null">
                from_site,
            </if>
            <if test="exportTime != null">
                export_time,
            </if>
            <if test="updateTime != null">
                update_time,
            </if>
            <if test="exportFile != null">
                export_file,
            </if>
            <if test="status != null">
                status,
            </if>
            <if test="productNumber != null">
                product_number,
            </if>
            <if test="fileContent != null">
                file_content,
            </if>
            <if test="visible != null">
                visible,
            </if>
            <if test="duration != null">
                duration,
            </if>
            <if test="productExport != null">
                product_export
            </if>
        </trim>
        VALUES
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="id != null">
                #{id},
            </if>
            <if test="linkUrl != null">
                #{linkUrl},
            </if>
            <if test="fromSite != null">
                #{fromSite},
            </if>
            <if test="exportTime != null">
                #{exportTime},
            </if>
            <if test="updateTime != null">
                #{updateTime},
            </if>
            <if test="exportFile != null">
                #{exportFile},
            </if>
            <if test="status != null">
                #{status},
            </if>
            <if test="productNumber != null">
                #{productNumber},
            </if>
            <if test="fileContent != null">
                #{fileContent},
            </if>
            <if test="visible != null">
                #{visible},
            </if>
            <if test="duration != null">
                #{duration},
            </if>
            <if test="productExport != null">
                #{productExport}
            </if>
        </trim>
    </insert>
</mapper>